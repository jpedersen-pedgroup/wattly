<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wattly — Smarter energy, together</title>
  <meta name="description" content="Wattly is a community-powered virtual energy network. Register your interest to join the pilot and help lower energy costs with rooftop solar." />
  <meta property="og:title" content="Wattly — Smarter energy, together" />
  <meta property="og:description" content="A sleek, mobile‑friendly landing page for Wattly. Register interest to join our virtual energy network pilot." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://placehold.co/1200x630/png?text=Wattly" />
  <meta name="theme-color" content="#0ea5e9" />

  <!-- Tailwind via CDN for quick iteration -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            wattly: {
              50: '#effafe', 100: '#d9f0fb', 200: '#b8e2f7', 300: '#86cdf2', 400: '#4db3ea', 500: '#1996db', 600: '#0e7dbf', 700: '#0d66a0', 800: '#0f5684', 900: '#11486d'
            }
          }
        }
      }
    }
  </script>
  <style>
    /* Subtle animated gradient background */
    .bg-aurora {
      background: radial-gradient(1200px 600px at 10% -10%, rgba(25,150,219,.25), transparent 50%),
                  radial-gradient(900px 500px at 90% 10%, rgba(99,102,241,.20), transparent 50%),
                  radial-gradient(800px 400px at 50% 110%, rgba(16,185,129,.15), transparent 50%);
    }
    .glass { background: rgba(255,255,255,.08); backdrop-filter: blur(10px); }
    html { scroll-behavior: smooth; }
    .shadow-soft { box-shadow: 0 10px 30px rgba(2, 6, 23, .15); }
    .logo {max-width: 2rem; max-height: 2rem;}
  </style>
</head>
<body class="min-h-screen bg-slate-950 text-slate-100 bg-aurora">
  <!-- Header -->
  <header class="sticky top-0 z-40 border-b border-white/10 bg-slate-950/70 backdrop-blur">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex h-16 items-center justify-between">
        <a href="#top" class="flex items-center gap-2">
          <!-- Simple spark logo -->
          <img src="wattly logo.png" alt="Wattly" class="h-10 w-auto logo">
          <span class="font-semibold tracking-tight">Wattly</span>
        </a>
        <nav class="hidden md:flex items-center gap-6 text-sm">
          <a href="#how" class="hover:text-sky-300">How it works</a>
          <a href="#benefits" class="hover:text-sky-300">Benefits</a>
          <a href="#faq" class="hover:text-sky-300">FAQ</a>
          <a href="#signup" class="inline-flex items-center gap-2 rounded-full bg-sky-500 px-4 py-2 font-medium text-slate-950 hover:bg-sky-400 shadow-soft">
            <span>Register interest</span>
          </a>
        </nav>
        <button class="md:hidden inline-flex items-center justify-center rounded-md p-2 hover:bg-white/5" aria-label="Open menu" id="openMenu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
    </div>
    <!-- Mobile menu -->
    <div id="mobileMenu" class="md:hidden hidden border-t border-white/10">
      <div class="mx-auto max-w-7xl px-4 py-3 space-y-2">
        <a href="#how" class="block py-2">How it works</a>
        <a href="#benefits" class="block py-2">Benefits</a>
        <a href="#faq" class="block py-2">FAQ</a>
        <a href="#signup" class="block py-2 text-sky-300 font-medium">Register interest</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section id="top" class="relative overflow-hidden">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-10 items-center py-16 lg:py-24">
        <div>
          <h1 class="text-4xl sm:text-5xl font-semibold leading-tight tracking-tight">
            Smarter energy, <span class="text-sky-400">together</span>.
          </h1>
          <p class="mt-5 text-slate-300 text-lg leading-relaxed max-w-prose">Wattly connects rooftop solar across communities to create a Virtual Energy Network. Buy and sell cleaner power locally, reduce bills, and help stabilise the grid.</p>
          <div class="mt-8 flex flex-col sm:flex-row gap-3">
            <a href="#signup" class="inline-flex items-center justify-center rounded-full bg-sky-500 px-6 py-3 font-medium text-slate-950 hover:bg-sky-400 shadow-soft">Join the pilot</a>
            <a href="#how" class="inline-flex items-center justify-center rounded-full ring-1 ring-white/20 px-6 py-3 font-medium hover:bg-white/5">How it works</a>
          </div>
          <div class="mt-6 flex items-center gap-4 text-sm text-slate-400">
            <div class="flex items-center gap-2"><span class="inline-block h-2 w-2 rounded-full bg-emerald-400"></span> Lower energy costs</div>
            <div class="flex items-center gap-2"><span class="inline-block h-2 w-2 rounded-full bg-sky-400"></span> Community first</div>
          </div>
        </div>
        <div class="glass rounded-3xl p-6 border border-white/10 shadow-soft">
          <div class="aspect-[16/10] w-full rounded-2xl bg-gradient-to-br from-sky-500/20 via-indigo-500/20 to-emerald-500/20 grid place-items-center">
            <div class="text-center">
              <p class="text-sm uppercase tracking-widest text-slate-300">Virtual Energy Network</p>
              <h3 class="mt-2 text-2xl font-semibold">Producers ↔ Consumers</h3>
              <p class="mt-2 text-slate-300 max-w-md">Excess solar exported to local neighbours and businesses at fair, transparent rates.</p>
              <!-- Decorative flow arrows -->
              <div class="mt-6 flex items-center justify-center gap-4 text-slate-300">
                <span class="px-3 py-1 rounded-full bg-white/10">Rooftop Solar</span>
                <svg class="h-6 w-6 opacity-70" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                <span class="px-3 py-1 rounded-full bg-white/10">Homes</span>
                <svg class="h-6 w-6 opacity-70" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                <span class="px-3 py-1 rounded-full bg-white/10">Businesses</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Logos / social proof (optional placeholders) -->
  <section aria-label="as‑seen‑with" class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8">
      <p class="text-center text-sm text-slate-400">Pilot partners & supporters (TBA)</p>
      <div class="mt-4 grid grid-cols-2 sm:grid-cols-4 gap-6 opacity-60">
        <div class="h-10 rounded bg-white/5"></div>
        <div class="h-10 rounded bg-white/5"></div>
        <div class="h-10 rounded bg-white/5"></div>
        <div class="h-10 rounded bg-white/5"></div>
      </div>
    </div>
  </section>

  <!-- How it works -->
  <section id="how" class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16">
      <div class="max-w-2xl">
        <h2 class="text-3xl font-semibold tracking-tight">How Wattly works</h2>
        <p class="mt-3 text-slate-300">We link mid‑sized rooftop solar across a neighbourhood into a single virtual network that shares power and value.</p>
      </div>
      <div class="mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <!-- Card 1 -->
        <article class="glass rounded-2xl border border-white/10 p-6 shadow-soft">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-medium">Generate</h3>
            <span class="text-xs text-slate-400">Step 1</span>
          </div>
          <p class="mt-2 text-slate-300">Commercial roofs host 200–400 kW solar arrays. Owners use what they need and export the rest.</p>
        </article>
        <!-- Card 2 -->
        <article class="glass rounded-2xl border border-white/10 p-6 shadow-soft">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-medium">Pool</h3>
            <span class="text-xs text-slate-400">Step 2</span>
          </div>
          <p class="mt-2 text-slate-300">Exports are pooled virtually and made available to nearby homes and businesses.</p>
        </article>
        <!-- Card 3 -->
        <article class="glass rounded-2xl border border-white/10 p-6 shadow-soft">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-medium">Match</h3>
            <span class="text-xs text-slate-400">Step 3</span>
          </div>
          <p class="mt-2 text-slate-300">Smart matching ensures fair pricing and prioritises local consumption.</p>
        </article>
        <!-- Card 4 -->
        <article class="glass rounded-2xl border border-white/10 p-6 shadow-soft">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-medium">Save</h3>
            <span class="text-xs text-slate-400">Step 4</span>
          </div>
          <p class="mt-2 text-slate-300">Participants see lower bills and producers earn more than wholesale export rates.</p>
        </article>
        <!-- Card 5 -->
        <article class="glass rounded-2xl border border-white/10 p-6 shadow-soft">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-medium">Engage</h3>
            <span class="text-xs text-slate-400">Step 5</span>
          </div>
          <p class="mt-2 text-slate-300">Dashboards track usage, savings, and carbon impact for homes and businesses.</p>
        </article>
        <!-- Card 6 -->
        <article class="glass rounded-2xl border border-white/10 p-6 shadow-soft">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-medium">Scale</h3>
            <span class="text-xs text-slate-400">Step 6</span>
          </div>
          <p class="mt-2 text-slate-300">New roofs join over time, growing local supply and resilience.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Benefits -->
  <section id="benefits" class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16">
      <div class="grid lg:grid-cols-2 gap-10 items-start">
        <div>
          <h2 class="text-3xl font-semibold tracking-tight">Why join Wattly?</h2>
          <ul class="mt-6 space-y-4 text-slate-300">
            <li class="flex gap-3"><span class="mt-1 inline-block h-2 w-2 rounded-full bg-emerald-400"></span> Lower and more predictable power costs</li>
            <li class="flex gap-3"><span class="mt-1 inline-block h-2 w-2 rounded-full bg-sky-400"></span> Support local generation and keep value in your community</li>
            <li class="flex gap-3"><span class="mt-1 inline-block h-2 w-2 rounded-full bg-indigo-400"></span> Real‑time insights and transparent pricing</li>
            <li class="flex gap-3"><span class="mt-1 inline-block h-2 w-2 rounded-full bg-yellow-400"></span> Reduced carbon footprint</li>
            <li class="flex gap-3"><span class="mt-1 inline-block h-2 w-2 rounded-full bg-pink-400"></span> Positive PR for participating businesses</li>
          </ul>
        </div>
        <div class="glass rounded-2xl border border-white/10 p-6 shadow-soft">
          <h3 class="text-xl font-medium">Who is it for?</h3>
          <div class="mt-4 grid sm:grid-cols-2 gap-4 text-slate-300">
            <div class="rounded-xl bg-white/5 p-4">
              <p class="font-medium">Residents & SMEs</p>
              <p class="mt-1 text-sm">Buy local renewable power and track savings.</p>
            </div>
            <div class="rounded-xl bg-white/5 p-4">
              <p class="font-medium">Building Owners</p>
              <p class="mt-1 text-sm">Monetise roof space and support your community.</p>
            </div>
            <div class="rounded-xl bg-white/5 p-4">
              <p class="font-medium">Power Companies</p>
              <p class="mt-1 text-sm">Engage customers, add local supply, and build goodwill.</p>
            </div>
            <div class="rounded-xl bg-white/5 p-4">
              <p class="font-medium">Lines Companies</p>
              <p class="mt-1 text-sm">Improve local resilience and network utilisation.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Signup -->
  <section id="signup" class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16">
      <div class="max-w-2xl">
        <h2 class="text-3xl font-semibold tracking-tight">Register your interest</h2>
        <p class="mt-3 text-slate-300">Tell us a bit about you and we’ll be in touch as the pilot rolls out. We’ll only use your info for this project.</p>
      </div>

      <form id="interestForm" class="mt-8 grid gap-6 glass rounded-2xl border border-white/10 p-6 shadow-soft" novalidate>
        <div class="grid sm:grid-cols-2 gap-4">
          <div>
            <label for="firstName" class="block text-sm text-slate-300">First name</label>
            <input id="firstName" name="firstName" required autocomplete="given-name" class="mt-2 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 outline-none focus:ring-2 focus:ring-sky-400" />
          </div>
          <div>
            <label for="lastName" class="block text-sm text-slate-300">Last name</label>
            <input id="lastName" name="lastName" required autocomplete="family-name" class="mt-2 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 outline-none focus:ring-2 focus:ring-sky-400" />
          </div>
        </div>
        <div class="grid sm:grid-cols-2 gap-4">
          <div>
            <label for="email" class="block text-sm text-slate-300">Email</label>
            <input id="email" name="email" type="email" required autocomplete="email" class="mt-2 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 outline-none focus:ring-2 focus:ring-sky-400" />
          </div>
          <div>
            <label for="phone" class="block text-sm text-slate-300">Phone (optional)</label>
            <input id="phone" name="phone" type="tel" inputmode="tel" class="mt-2 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 outline-none focus:ring-2 focus:ring-sky-400" />
          </div>
        </div>
        <div class="grid sm:grid-cols-2 gap-4">
          <div>
            <label for="role" class="block text-sm text-slate-300">I am a…</label>
            <select id="role" name="role" required class="mt-2 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 outline-none focus:ring-2 focus:ring-sky-400">
              <option value="" disabled selected>— Select —</option>
              <option>Resident / Homeowner</option>
              <option>Business owner</option>
              <option>Building owner / Landlord</option>
              <option>Power company</option>
              <option>Lines company</option>
              <option>Installer / Contractor</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label for="location" class="block text-sm text-slate-300">City / Region</label>
            <input id="location" name="location" required class="mt-2 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 outline-none focus:ring-2 focus:ring-sky-400" />
          </div>
        </div>
        <div>
          <label for="message" class="block text-sm text-slate-300">Anything else?</label>
          <textarea id="message" name="message" rows="4" placeholder="Roof size, ICP if you know it, tenancy type, or how you’d like to participate…" class="mt-2 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 outline-none focus:ring-2 focus:ring-sky-400"></textarea>
        </div>
        <div class="flex items-start gap-3">
          <input id="consent" name="consent" type="checkbox" required class="mt-1 h-5 w-5 rounded border-white/20 bg-white/5 text-sky-500 focus:ring-0" />
          <label for="consent" class="text-sm text-slate-300">I agree to be contacted about Wattly and accept the <button type="button" class="underline decoration-dotted" id="openPrivacy">Privacy Policy</button>.</label>
        </div>
        <div class="flex flex-col sm:flex-row items-center gap-3">
          <button type="submit" class="inline-flex items-center justify-center rounded-xl bg-sky-500 px-6 py-3 font-medium text-slate-950 hover:bg-sky-400 shadow-soft">Submit</button>
          <p id="formStatus" class="text-sm text-slate-300" aria-live="polite"></p>
        </div>
      </form>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16">
      <h2 class="text-3xl font-semibold tracking-tight">Frequently asked</h2>
      <div class="mt-8 grid gap-4 sm:grid-cols-2">
        <details class="group glass rounded-2xl border border-white/10 p-6">
          <summary class="cursor-pointer list-none font-medium flex items-center justify-between">Is this available in my area?
            <span class="transition-transform group-open:rotate-180">▾</span></summary>
          <p class="mt-3 text-slate-300">We’re rolling out pilots region by region. Register and we’ll keep you posted.</p>
        </details>
        <details class="group glass rounded-2xl border border-white/10 p-6">
          <summary class="cursor-pointer list-none font-medium flex items-center justify-between">Do I need my own solar?
            <span class="transition-transform group-open:rotate-180">▾</span></summary>
          <p class="mt-3 text-slate-300">No. Consumers can benefit from nearby producers’ excess generation.</p>
        </details>
        <details class="group glass rounded-2xl border border-white/10 p-6">
          <summary class="cursor-pointer list-none font-medium flex items-center justify-between">What does it cost?
            <span class="transition-transform group-open:rotate-180">▾</span></summary>
          <p class="mt-3 text-slate-300">Pricing is transparent. Expect a discounted rate vs standard tariffs for pilot participants.</p>
        </details>
        <details class="group glass rounded-2xl border border-white/10 p-6">
          <summary class="cursor-pointer list-none font-medium flex items-center justify-between">Is this compliant with NZ rules?
            <span class="transition-transform group-open:rotate-180">▾</span></summary>
          <p class="mt-3 text-slate-300">We’re working within existing market and distributed generation frameworks, partnering with retailers and network operators.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12">
      <div class="flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between">
        <div class="flex items-center gap-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M12 2l2.2 5.6L20 9.2l-4.6 3.9L16 20l-4-2.6L8 20l.6-6.9L4 9.2l5.8-1.6L12 2z" fill="#38bdf8"/>
          </svg>
          <span class="font-semibold tracking-tight">Wattly</span>
        </div>
        <p class="text-sm text-slate-400">© <span id="y"></span> Wattly. All rights reserved.</p>
        <div class="text-sm text-slate-400">Contact: <a class="underline decoration-dotted" href="mailto:hello@wattly.energy">hello@wattly.energy</a></div>
      </div>
    </div>
  </footer>

  <!-- Privacy modal -->
  <div id="privacyModal" class="fixed inset-0 z-50 hidden place-items-center p-6">
    <div class="absolute inset-0 bg-black/60" aria-hidden="true"></div>
    <div role="dialog" aria-modal="true" class="relative w-full max-w-2xl rounded-2xl bg-slate-900 border border-white/10 p-6 shadow-soft">
      <div class="flex items-start justify-between gap-4">
        <h3 class="text-xl font-semibold">Privacy Policy</h3>
        <button id="closePrivacy" class="rounded-md p-2 hover:bg-white/5" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M6.225 4.811L4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586 6.225 4.811z"/></svg>
        </button>
      </div>
      <div class="mt-4 space-y-3 text-sm text-slate-300 max-h-[60vh] overflow-y-auto pr-2">
        <p>We collect the details you provide to notify you about Wattly’s pilot and related updates. Your data won’t be sold. You can request deletion at any time by emailing <a class="underline" href="mailto:privacy@wattly.energy">privacy@wattly.energy</a>.</p>
        <p>Form submissions are stored securely and accessed by the Wattly team only for programme coordination and analytics.</p>
      </div>
      <div class="mt-6 flex justify-end">
        <button id="okayPrivacy" class="rounded-xl bg-sky-500 px-5 py-2 font-medium text-slate-950 hover:bg-sky-400">Okay</button>
      </div>
    </div>
  </div>

  <!-- Script -->
  <script>
    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Mobile menu
    const mm = document.getElementById('mobileMenu');
    document.getElementById('openMenu').addEventListener('click', () => mm.classList.toggle('hidden'));

    // Privacy modal
    const privacy = document.getElementById('privacyModal');
    const openPrivacyBtn = document.getElementById('openPrivacy');
    const closePrivacyBtn = document.getElementById('closePrivacy');
    const okayPrivacyBtn  = document.getElementById('okayPrivacy');
    const hidePrivacy = () => privacy.classList.add('hidden');
    openPrivacyBtn.addEventListener('click', () => privacy.classList.remove('hidden'));
    closePrivacyBtn.addEventListener('click', hidePrivacy);
    okayPrivacyBtn.addEventListener('click', hidePrivacy);

    // Form handling
    const form = document.getElementById('interestForm');
    const status = document.getElementById('formStatus');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      status.textContent = '';

      if (!form.reportValidity()) return;

      const data = Object.fromEntries(new FormData(form));
      const payload = {
        ...data,
        consent: !!data.consent,
        submittedAt: new Date().toISOString(),
        source: window.location.href,
        userAgent: navigator.userAgent
      };

      const ENDPOINT = '/api/submit-interest';
      //const ENDPOINT = '/api/hello';

      try {
        // Optimistic UI + local backup
        const draft = JSON.parse(localStorage.getItem('wattlySignups') || '[]');
        draft.push(payload);
        localStorage.setItem('wattlySignups', JSON.stringify(draft));

        const res = await fetch(ENDPOINT, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });

        if (!res.ok) throw new Error('Network response was not ok');

        form.reset();
        status.textContent = 'Thanks! You\'re on the list. We\'ll be in touch soon.';
      } catch (err) {
        console.warn('Submission failed, saved locally', err);
        status.innerHTML = 'Saved locally. Please email <a class="underline" href="mailto:hello@wattly.energy">hello@wattly.energy</a> or try again shortly.';
      }
    });
  </script>

  <!-- Analytics placeholder -->
  <!-- <script>/* Add your analytics script here */</script> -->
</body>
</html>
